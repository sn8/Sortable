/*! Sortable 1.8.4 - MIT | git://github.com/SortableJS/Sortable.git */

!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.Sortable=e()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function I(e,t){if(!e||!e.getBoundingClientRect)return ue();var o=e,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=Te(o);if(o.clientWidth<o.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!o||!o.getBoundingClientRect||o===Q.body)return ue();if(n||t)return o;n=!0}}}while(o=o.parentNode);return ue()}function O(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}var x,E,f,N,M,u,P,g,o,k,X,Y,A,h,B,p,H,R,v,l,s,m,b,w,L,_,W,F,z,D,y=[],q=[],U=!1,C=!1,j=!1,c=[],K=[],V=!1,G=!1,T=[],i=/\s+/g,Z="Sortable"+(new Date).getTime(),S=window,Q=S.document,J=S.parseInt,$=S.setTimeout,t=S.jQuery||S.Zepto,n=S.Polymer,r={capture:!1,passive:!1},ee=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),te=!!navigator.userAgent.match(/Edge/i),d=!!navigator.userAgent.match(/firefox/i),oe=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),ne=!!navigator.userAgent.match(/iP(ad|od|hone)/i),ie=te||ee?"cssFloat":"float",a="draggable"in Q.createElement("div"),re=function(){if(ee)return!1;var e=Q.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),ae=!1,le=Math.abs,se=Math.min,ce=Math.max,de=[],he=function(e,t){var o=Te(e),n=J(o.width)-J(o.paddingLeft)-J(o.paddingRight)-J(o.borderLeftWidth)-J(o.borderRightWidth),i=Ie(e,0,t),r=Ie(e,1,t),a=i&&Te(i),l=r&&Te(r),s=a&&J(a.marginLeft)+J(a.marginRight)+Le(i).width,c=l&&J(l.marginLeft)+J(l.marginRight)+Le(r).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==a.float){var d="left"===a.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||n<=s&&"none"===o[ie]||r&&"none"===o[ie]&&n<s+c)?"vertical":"horizontal"},ue=function(){return ee?Q.documentElement:Q.scrollingElement},fe=e(function(o,e,t,n){if(e.scroll){var i=t?t[Z]:window,r=e.scrollSensitivity,a=e.scrollSpeed,l=o.clientX,s=o.clientY,c=ue(),d=!1;X!==t&&(pe(),k=e.scroll,Y=e.scrollFn,!0===k&&(k=I(t,!0),X=k));var h=0,u=k;do{var f,p,v,g,m,b,w,_,D,y=u,C=Le(y),T=C.top,S=C.bottom,x=C.left,E=C.right,N=C.width,M=C.height;if(f=y.scrollWidth,p=y.scrollHeight,v=Te(y),_=y.scrollLeft,D=y.scrollTop,w=y===c?(b=N<f&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),M<p&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY)):(b=N<f&&("auto"===v.overflowX||"scroll"===v.overflowX),M<p&&("auto"===v.overflowY||"scroll"===v.overflowY)),g=b&&(le(E-l)<=r&&_+N<f)-(le(x-l)<=r&&!!_),m=w&&(le(S-s)<=r&&D+M<p)-(le(T-s)<=r&&!!D),!q[h])for(var P=0;P<=h;P++)q[P]||(q[P]={});q[h].vx==g&&q[h].vy==m&&q[h].el===y||(q[h].el=y,q[h].vx=g,q[h].vy=m,clearInterval(q[h].pid),!y||0==g&&0==m||(d=!0,q[h].pid=setInterval(function(){n&&0===this.layer&&(we.active._emulateDragOver(!0),we.active._onTouchMove(L,!0));var e=q[this.layer].vy?q[this.layer].vy*a:0,t=q[this.layer].vx?q[this.layer].vx*a:0;"function"==typeof Y&&"continue"!==Y.call(i,t,e,o,L,q[this.layer].el)||O(q[this.layer].el,t,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&u!==c&&(u=I(u,!1)));U=d}},30),pe=function(){q.forEach(function(e){clearInterval(e.pid)}),q=[]},ve=function(e){function s(a,l){return function(e,t,o,n){var i=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;if(null==a&&(l||i))return!0;if(null==a||!1===a)return!1;if(l&&"clone"===a)return a;if("function"==typeof a)return s(a(e,t,o,n),l)(e,t,o,n);var r=(l?e:t).options.group.name;return!0===a||"string"==typeof a&&a===r||a.join&&-1<a.indexOf(r)}}var t={},o=e.group;o&&"object"==typeof o||(o={name:o}),t.name=o.name,t.checkPull=s(o.pull,!0),t.checkPut=s(o.put),t.revertClone=o.revertClone,e.group=t};Q.addEventListener("click",function(e){if(j)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),j=!1},!0);function ge(e){if(x){var t=function(e,t){for(var o=0;o<c.length;o++)if(!Oe(c[o])){var n=Le(c[o]),i=c[o][Z].options.emptyInsertThreshold,r=e>=n.left-i&&e<=n.right+i,a=t>=n.top-i&&t<=n.bottom+i;if(i&&r&&a)return c[o]}}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var o={};for(var n in e)o[n]=e[n];o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[Z]._onDragOver(o)}}}function me(e){x&&x.parentNode[Z]._isOutsideThisEl(e.target)}var be;function we(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Ae({},t),e[Z]=this;var o={group:null,sort:!0,disabled:!1,store:null,swap:!1,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return he(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapClass:"sortable-swap-highlight",selectedClass:"sortable-selected",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){var o="";if(K.length)for(var n=0;n<K.length;n++)o+=(n?", ":"")+K[n].textContent;else o=t.textContent;e.setData("Text",o)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:J(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==we.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5,multiDrag:!1};for(var n in o)!(n in t)&&(t[n]=o[n]);for(var i in ve(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&a,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?(De(e,"pointerdown",this._onTapStart),De(Q,"pointerup",this._deselectMultiDrag)):(De(Q,"mouseup",this._deselectMultiDrag),De(Q,"touchend",this._deselectMultiDrag),De(e,"mousedown",this._onTapStart),De(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(De(e,"dragover",this),De(e,"dragenter",this)),c.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function _e(e,t,o,n){if(e){o=o||Q;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&Ye(e,t):Ye(e,t))||n&&e===o)return e;if(e===o)break}while(e=(i=e).host&&i!==Q&&i.host.nodeType?i.host:i.parentNode)}var i;return null}function De(e,t,o){e.addEventListener(t,o,!ee&&r)}function ye(e,t,o){e.removeEventListener(t,o,!ee&&r)}function Ce(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(i," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(i," ")}}function Te(e,t,o){var n=e&&e.style;if(n){if(void 0===o)return Q.defaultView&&Q.defaultView.getComputedStyle?o=Q.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=o+("string"==typeof o?"":"px")}}function Se(e){var t="";do{var o=Te(e,"transform");o&&"none"!==o&&(t=o+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function xe(e,t,o){if(e){var n=e.getElementsByTagName(t),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function Ee(e,t,o,n,i,r,a,l,s,c,d,h){var u,f=(e=e||t[Z]).options,p="on"+o.charAt(0).toUpperCase()+o.substr(1);if(!window.CustomEvent||ee||te?(u=Q.createEvent("Event")).initEvent(o,!0,!0):u=new CustomEvent(o,{bubbles:!0,cancelable:!0}),u.to=i||t,u.from=r||t,u.item=n||t,u.items=K||[],u.clone=g,u.clones=y||[],u.oldIndex=a,u.newIndex=l,u.oldDraggableIndex=s,u.newDraggableIndex=c,u.originalEvent=d,u.pullMode=R?R.lastPutMode:void 0,h)for(var v in h)u[v]=h[v];t&&t.dispatchEvent(u),f[p]&&f[p].call(e,u)}function Ne(e,t,o,n,i,r,a,l){var s,c,d=e[Z],h=d.options.onMove;return!window.CustomEvent||ee||te?(s=Q.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=o,s.draggedRect=n,s.related=i||t,s.relatedRect=r||Le(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),h&&(c=h.call(d,s,a)),c}function Me(e){e.draggable=!1}function Pe(){ae=!1}function Ie(e,t,o){for(var n=0,i=0,r=e.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==f&&r[i]!==x&&_e(r[i],o.draggable,e,!1)){if(n===t)return r[i];n++}i++}return null}function Oe(e){for(var t=e.lastElementChild;t&&(t===f||"none"===Te(t,"display"));)t=t.previousElementSibling;return t||null}function ke(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function Xe(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||e===g||t&&!Ye(e,t)||o++;return o}function Ye(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function e(o,n){return function(){if(!be){var e=arguments,t=this;be=$(function(){1===e.length?o.call(t,e[0]):o.apply(t,e),be=void 0},n)}}}function Ae(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function Be(e){return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function He(e){return $(e,0)}function Re(e){return clearTimeout(e)}function Le(e,t,o,n){if(e.getBoundingClientRect||e===S){var i,r,a,l,s,c,d;if(d=e!==S&&e!==ue()?(r=(i=e.getBoundingClientRect()).top,a=i.left,l=i.bottom,s=i.right,c=i.height,i.width):(a=r=0,l=window.innerHeight,s=window.innerWidth,c=window.innerHeight,window.innerWidth),n&&e!==S&&(o=o||e.parentNode,!ee))do{if(o&&o.getBoundingClientRect&&"none"!==Te(o,"transform")){var h=o.getBoundingClientRect();r-=h.top+J(Te(o,"border-top-width")),a-=h.left+J(Te(o,"border-left-width")),l=r+i.height,s=a+i.width;break}}while(o=o.parentNode);if(t&&e!==S){var u=Se(o||e),f=u&&u.a,p=u&&u.d;u&&(l=(r/=p)+(c/=p),s=(a/=f)+(d/=f))}return{top:r,left:a,bottom:l,right:s,width:d,height:c}}}function We(e,t){for(var o=I(e,!0),n=Le(e)[t];o;){var i=Le(o)[t];if(!("top"===t||"left"===t?i<=n:n<=i))return o;if(o===ue())break;o=I(o,!1)}return!1}function Fe(e){for(var t=e?y:K,o=0;o<t.length;o++){var n=N.children[t[o].sortableIndex];n?N.insertBefore(t[o],n):N.appendChild(t[o])}}function ze(){for(var e=0;e<K.length;e++)K[e]!==x&&K[e].parentNode&&K[e].parentNode.removeChild(K[e])}function qe(e){var t=0,o=0,n=ue();if(e)do{var i=Se(e),r=i.a,a=i.d;t+=e.scrollLeft*r,o+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,o]}return we.prototype={constructor:we,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(W=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,x):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t,o,n=this,i=this.el,r=this.options,a=r.preventOnFilter,l=e.type,s=e.touches&&e.touches[0],c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=r.filter;if(function(e){de.length=0;var t=e.getElementsByTagName("input"),o=t.length;for(;o--;){var n=t[o];n.checked&&de.push(n)}}(i),!x&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||r.disabled||d.isContentEditable||(c=_e(c,r.draggable,i,!1),u===c))){if(t=Xe(c),o=Xe(c,r.draggable),"function"==typeof h){if(h.call(this,e,c,this))return Ee(n,d,"filter",c,i,i,t,void 0,o),void(a&&e.cancelable&&e.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=_e(d,e.trim(),i,!1))return Ee(n,e,"filter",c,i,i,t,void 0,o),!0})))return void(a&&e.cancelable&&e.preventDefault());r.handle&&!_e(d,r.handle,i,!1)||this._prepareDragStart(e,s,c,t,o)}}},_handleAutoScroll:function(t,o){if(x&&this.options.scroll){var n=t.clientX,i=t.clientY,e=Q.elementFromPoint(n,i),r=this;if(o||te||ee||oe){fe(t,r.options,e,o);var a=I(e,!0);!U||v&&n===l&&i===s||(v&&clearInterval(v),v=setInterval(function(){if(x){var e=I(Q.elementFromPoint(n,i),!0);e!==a&&(a=e,pe(),fe(t,r.options,a,o))}},10),l=n,s=i)}else{if(!r.options.bubbleScroll||I(e,!0)===ue())return void pe();fe(t,r.options,I(e,!1),!1)}}},_prepareDragStart:function(e,t,o,n,i){var r,a=this,l=a.el,s=a.options,c=l.ownerDocument;o&&!x&&o.parentNode===l&&(N=l,E=(x=o).parentNode,M=x.nextSibling,u=o,H=s.group,A=n,B=i,w={target:x,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,x.style["will-change"]="all",x.style.transition="",x.style.transform="",r=function(){a._disableDelayedDragEvents(),!d&&a.nativeDraggable&&(x.draggable=!0),a._triggerDragStart(e,t),Ee(a,N,"choose",x,N,N,A,void 0,B),Ce(x,s.chosenClass,!0)},s.ignore.split(",").forEach(function(e){xe(x,e.trim(),Me)}),De(Q,"dragover",ge),De(Q,"mousemove",ge),De(Q,"touchmove",ge),s.supportPointer?De(c,"pointerup",a._onDrop):(De(c,"mouseup",a._onDrop),De(c,"touchend",a._onDrop),De(c,"touchcancel",a._onDrop)),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,x.draggable=!0),!s.delay||this.nativeDraggable&&(te||ee)?r():(De(c,"mouseup",a._disableDelayedDrag),De(c,"touchend",a._disableDelayedDrag),De(c,"touchcancel",a._disableDelayedDrag),De(c,"mousemove",a._delayedDragTouchMoveHandler),De(c,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&De(c,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=$(r,s.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;ce(le(t.clientX-this._lastX),le(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){x&&Me(x),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._disableDelayedDrag),ye(e,"touchend",this._disableDelayedDrag),ye(e,"touchcancel",this._disableDelayedDrag),ye(e,"mousemove",this._delayedDragTouchMoveHandler),ye(e,"touchmove",this._delayedDragTouchMoveHandler),ye(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),!this.nativeDraggable||t?this.options.supportPointer?De(Q,"pointermove",this._onTouchMove):De(Q,t?"touchmove":"mousemove",this._onTouchMove):(De(x,"dragend",this),De(N,"dragstart",this._onDragStart));try{Q.selection?He(function(){Q.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(C=!1,N&&x){this.nativeDraggable&&(De(Q,"dragover",this._handleAutoScroll),De(Q,"dragover",me));var o=this.options;!e&&Ce(x,o.dragClass,!1),Ce(x,o.ghostClass,!0),Te(x,"transform",""),we.active=this,e&&this._appendGhost(),Ee(this,N,"start",x,N,N,A,void 0,B,void 0,t)}else this._nulling()},_emulateDragOver:function(e){if(L){if(this._lastX===L.clientX&&this._lastY===L.clientY&&!e)return;this._lastX=L.clientX,this._lastY=L.clientY,!re&&f&&Te(f,"display","none");for(var t=Q.elementFromPoint(L.clientX,L.clientY),o=t;t&&t.shadowRoot;)o=t=t.shadowRoot.elementFromPoint(L.clientX,L.clientY);if(x.parentNode[Z]._isOutsideThisEl(t),o)do{if(o[Z])if(o[Z]._onDragOver({clientX:L.clientX,clientY:L.clientY,target:t,rootEl:o})&&!this.options.dragoverBubble)break;t=o}while(o=o.parentNode);!re&&f&&Te(f,"display","")}},_onTouchMove:function(e,t){if(w){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=e.touches?e.touches[0]:e,a=f&&Se(f),l=f&&a&&a.a,s=f&&a&&a.d,c=ne&&D&&qe(D),d=(r.clientX-w.clientX+i.x)/(l||1)+(c?c[0]-T[0]:0)/(l||1),h=(r.clientY-w.clientY+i.y)/(s||1)+(c?c[1]-T[1]:0)/(s||1),u=e.touches?"translate3d("+d+"px,"+h+"px,0)":"translate("+d+"px,"+h+"px)";if(!we.active&&!C){if(n&&se(le(r.clientX-this._lastX),le(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}!t&&this._handleAutoScroll(r,!0),L=r,Te(f,"webkitTransform",u),Te(f,"mozTransform",u),Te(f,"msTransform",u),Te(f,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!f){var e=this.options.fallbackOnBody?Q.body:N,t=Le(x,!0,e,!ne),o=(Te(x),this.options);if(ne){for(D=e;"static"===Te(D,"position")&&"none"===Te(D,"transform")&&D!==Q;)D=D.parentNode;if(D!==Q){var n=Le(D,!0);t.top-=n.top,t.left-=n.left}D!==Q.body&&D!==Q.documentElement?(D===Q&&(D=ue()),t.top+=D.scrollTop,t.left+=D.scrollLeft):D=ue(),T=qe(D)}Ce(f=x.cloneNode(!0),o.ghostClass,!1),Ce(f,o.fallbackClass,!0),Ce(f,o.dragClass,!0),Te(f,"box-sizing","border-box"),Te(f,"margin",0),Te(f,"top",t.top),Te(f,"left",t.left),Te(f,"width",t.width),Te(f,"height",t.height),Te(f,"opacity","0.8"),Te(f,"position",ne?"absolute":"fixed"),Te(f,"zIndex","100000"),Te(f,"pointerEvents","none"),e.appendChild(f)}},_onDragStart:function(e,t){var o=this,n=e.dataTransfer,i=o.options;for(var r in P=x,!~K.indexOf(x)&&b&&b[Z]._deselectMultiDrag(),K)K[r].sortableIndex=Xe(K[r]);if((K=K.sort(function(e,t){return e.sortableIndex-t.sortableIndex})).length)for(r=0;r<K.length;r++)y.push(Be(K[r])),y[r].sortableIndex=K[r].sortableIndex,y[r].draggable=!1,y[r].style["will-change"]="",Ce(y[r],o.options.selectedClass,!1),K[r]===x&&Ce(y[r],o.options.chosenClass,!1);else(g=Be(x)).draggable=!1,g.style["will-change"]="",Ce(g,o.options.chosenClass,!1);this._hideClone(),o._cloneId=He(function(){o.options.sort&&ze(),o.options.removeCloneOnHide||(i.multiDrag?Fe(!0):N.insertBefore(g,x)),Ee(o,N,"clone",x)}),!t&&Ce(x,i.dragClass,!0),t?(j=!0,o._loopId=setInterval(o._emulateDragOver,50)):(ye(Q,"mouseup",o._onDrop),ye(Q,"touchend",o._onDrop),ye(Q,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(o,n,x)),De(Q,"drop",o),Te(x,"transform","translateZ(0)")),C=!0,o._dragStartId=He(o._dragStarted.bind(o,t,e)),De(Q,"selectstart",o),_=!0,oe&&Te(Q.body,"user-select","none")},_onDragOver:function(t){var o,n,e,i=this.el,r=t.target,a=this.options,l=a.group,s=we.active,c=H===l,d=a.sort,h=this;if(!ae){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),r=_e(r,a.draggable,i,!0),x.contains(t.target)||r.animated)return T(!1);if(r!==x&&(j=!1),s&&!a.disabled&&(c?d||(e=!N.contains(x)):R===this||(this.lastPutMode=H.checkPull(this,s,x,t))&&l.checkPut(this,s,x,t))){var u=this._getDirection(t,r);if(o=Le(x),a.swap){if(r&&r!==i){var f=P;P=!1!==Ne(N,i,x,o,r,Le(r),t,!1)?(Ce(r,a.swapClass,!0),r):null,f&&f!==P&&Ce(f,a.swapClass,!1)}return S(),T(!0)}if(e)return E=N,this._hideClone(),K.length?Fe():M?N.insertBefore(x,M):N.appendChild(x),T(!0);var p=Oe(i);if(!p||function(e,t,o){var n=Le(Oe(o)),i="vertical"===t?e.clientY:e.clientX,r="vertical"===t?e.clientX:e.clientY,a="vertical"===t?n.bottom:n.right,l="vertical"===t?n.left:n.top,s="vertical"===t?n.right:n.bottom;return"vertical"===t?s+10<r||r<=s&&a<i&&l<=r:a<i&&l<r||i<=a&&s+10<r}(t,u,i)&&!p.animated){if(p&&i===t.target&&(r=p),r&&(n=Le(r)),!1!==Ne(N,i,x,o,r,n,t,!!r))return i.appendChild(x),E=i,null,S(),T(!0)}else if(r&&r!==x&&r.parentNode===i){var v,g,m=x.parentNode!==i,b="vertical"===u?"top":"left",w=We(r,"top")||We(x,"top"),_=w?w.scrollTop:void 0;if(W!==r&&(g=Le(r)[b],V=!1,G=a.invertSwap||m),0===(v=function(e,t,o,n,i,r,a){var l=Le(t),s="vertical"===o?e.clientY:e.clientX,c="vertical"===o?l.height:l.width,d="vertical"===o?l.top:l.left,h="vertical"===o?l.bottom:l.right,u=Le(x),f=!1;if(!r)if(a&&z<c*n)if(!V&&(1===F?d+c*i/2<s:s<h-c*i/2)&&(V=!0),V)f=!0;else{"vertical"===o?u.top:u.left,"vertical"===o?u.bottom:u.right;if(1===F?s<d+z:h-z<s)return-1*F}else if(d+c*(1-n)/2<s&&s<h-c*(1-n)/2)return function(e){var t=Xe(x),o=Xe(e);return t<o?1:-1}(t);if((f=f||r)&&(s<d+c*i/2||h-c*i/2<s))return d+c/2<s?1:-1;return 0}(t,r,u,a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,G,W===r)))return T(!1);null,F=v,n=Le(W=r);var D=r.nextElementSibling,y=!1,C=Ne(N,i,x,o,r,n,t,y=1===v);if(!1!==C)return 1!==C&&-1!==C||(y=1===C),ae=!0,$(Pe,30),y&&!D?i.appendChild(x):r.parentNode.insertBefore(x,y?D:r),w&&O(w,0,_-w.scrollTop),E=x.parentNode,void 0===g||G||(z=le(g-Le(r)[b])),S(),T(!0)}if(i.contains(x))return T(!1)}return!1}function T(e){return e&&(c?s._hideClone():(ze(),s._showClone(h)),s&&(Ce(x,R?R.options.ghostClass:s.options.ghostClass,!1),Ce(x,a.ghostClass,!0)),R!==h&&h!==we.active?R=h:h===we.active&&(R=null),a.swap||(o&&h._animate(o,x),r&&n&&h._animate(n,r))),(r===x&&!x.animated||r===i&&!r.animated)&&(W=null),a.dragoverBubble||t.rootEl||r===Q||(h._handleAutoScroll(t),x.parentNode[Z]._isOutsideThisEl(t.target),!e&&ge(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),!0}function S(){Ee(h,N,"change",r,i,N,A,Xe(x),B,Xe(x,a.draggable),t)}},_animate:function(e,t){var o=this.options.animation;if(o){var n=Le(t);if(t===x&&n,1===e.nodeType&&(e=Le(e)),e.left+e.width/2!==n.left+n.width/2||e.top+e.height/2!==n.top+n.height/2){var i=Se(this.el),r=i&&i.a,a=i&&i.d;Te(t,"transition","none"),Te(t,"transform","translate3d("+(e.left-n.left)/(r||1)+"px,"+(e.top-n.top)/(a||1)+"px,0)"),t.offsetWidth,Te(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Te(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=$(function(){Te(t,"transition",""),Te(t,"transform",""),t.animated=!1},o)}},_offMoveEvents:function(){ye(Q,"touchmove",this._onTouchMove),ye(Q,"pointermove",this._onTouchMove),ye(Q,"dragover",ge),ye(Q,"mousemove",ge),ye(Q,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._onDrop),ye(e,"touchend",this._onDrop),ye(e,"pointerup",this._onDrop),ye(e,"touchcancel",this._onDrop),ye(Q,"selectstart",this)},_deselectMultiDrag:function(e){if(b===this.el&&!(e&&_e(e.target,this.options.draggable,this.el,!1)||e&&0!==e.button)){for(var t=0;t<K.length;t++)Ce(K[t],this.options.selectedClass,!1),Ee(this,N,"deselect",K[t],this.el,this.el,void 0,void 0,void 0,void 0,e);K=[]}},_onDrop:function(e){var t,o,n=this.el,i=this.options;if(V=G=U=C=!1,clearInterval(this._loopId),clearInterval(v),pe(),clearTimeout(be),be=void 0,clearTimeout(this._dragStartTimer),Re(this._cloneId),Re(this._dragStartId),ye(Q,"mousemove",this._onTouchMove),this.nativeDraggable&&(ye(Q,"drop",this),ye(n,"dragstart",this._onDragStart),ye(Q,"dragover",this._handleAutoScroll)),oe&&Te(Q.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),P&&Ce(P,i.swapClass,!1),P&&(i.swap||R&&R.options.swap)&&x!==P){var r=Le(x),a=Le(P);!function(e,t){var o,n,i=e.parentNode,r=t.parentNode;if(!i||!r||i.isEqualNode(t)||r.isEqualNode(e))return;o=Xe(e),n=Xe(t),i.isEqualNode(r)&&o<n&&n++;i.insertBefore(t,i.children[o]),r.insertBefore(e,r.children[n])}(x,P),this._animate(r,x),this._animate(a,P)}if(e){if(!_&&i.multiDrag)if(Ce(x,i.selectedClass,!~K.indexOf(x)),~K.indexOf(x))K.splice(K.indexOf(x),1),m=null,Ee(this,N,"deselect",x,n,n,void 0,void 0,void 0,void 0,e);else{if(K.push(x),Ee(this,N,"select",x,n,n,void 0,void 0,void 0,void 0,e),e.shiftKey&&m&&this.el.contains(m)){var l=Xe(m),s=Xe(x);if(~l&&~s&&l!==s){var c=E.children;for(o=l<s?(t=l,s):(t=s,l+1);t<o;t++)~K.indexOf(c[t])||(Ce(c[t],i.selectedClass,!0),K.push(c[t]),Ee(this,N,"select",c[t],n,n,void 0,void 0,void 0,void 0,e))}}else m=x;b=E}if(_&&i.multiDrag&&K.length){if(E[Z].options.sort){Xe(x);var d=Le(x);for(E.insertBefore(K[0],x),K[0]!==x&&E.removeChild(x),t=1;t<K.length;t++)K[t-1].nextSibling?E.insertBefore(K[t],K[t-1].nextSibling):E.appendChild(K[t]),this._animate(d,K[t])}b=E}_&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),f&&f.parentNode&&f.parentNode.removeChild(f),(N===E||R&&"clone"!==R.lastPutMode)&&g&&g.parentNode&&g.parentNode.removeChild(g),x&&(this.nativeDraggable&&ye(x,"dragend",this),Me(x),x.style["will-change"]="",_&&!C&&Ce(x,R?R.options.ghostClass:this.options.ghostClass,!1),Ce(x,this.options.chosenClass,!1),Ee(this,N,"unchoose",x,E,N,A,null,B,null,e),N!==E?(h=Xe(x),p=Xe(x,i.draggable),0<=h&&(Ee(null,E,"add",x,E,N,A,h,B,p,e),Ee(this,N,"remove",x,E,N,A,h,B,p,e),Ee(null,E,"sort",x,E,N,A,h,B,p,e),Ee(this,N,"sort",x,E,N,A,h,B,p,e)),R&&R.save()):(h=Xe(x),p=Xe(x,i.draggable),0<=h&&(x.nextSibling!==M?(Ee(this,N,"update",x,E,N,A,h,B,p,e),Ee(this,N,"sort",x,E,N,A,h,B,p,e)):Ee(this,N,"multiUpdate",x,E,N,A,h,B,p,e))),we.active&&(null!=h&&-1!==h||(h=A,p=B),i.swap&&P?Ee(this,N,"end",x,E,N,A,h,B,p,e,{swapItem:P}):Ee(this,N,"end",x,E,N,A,h,B,p,e),this.save()))}this._nulling()},_nulling:function(){N=x=E=f=M=g=u=P=k=X=q.length=v=l=s=w=L=_=h=A=W=F=R=H=we.active=null,de.forEach(function(e){e.checked=!0}),de.length=y.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":x&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,n=0,i=o.length,r=this.options;n<i;n++)_e(e=o[n],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ke(e));return t},sort:function(e){var n={},i=this.el;this.toArray().forEach(function(e,t){var o=i.children[t];_e(o,this.options.draggable,i,!1)&&(n[e]=o)},this),e.forEach(function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _e(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];o[e]=t,"group"===e&&ve(o)},destroy:function(){var e=this.el;e[Z]=null,ye(e,"mousedown",this._onTapStart),ye(e,"touchstart",this._onTapStart),ye(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ye(e,"dragover",this),ye(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),c.splice(c.indexOf(this.el),1),this._deselectMultiDrag(),this.el=e=null},_hideClone:function(){if(!o){for(var e=0;e<(y.length||1);e++){var t=y[e];t||(t=g),Te(t,"display","none"),this.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}o=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(o){if(y.length){Fe(!0);for(var t=0;t<y.length;t++)Te(y[t],"display","")}else N.contains(x)&&!this.options.group.revertClone?N.insertBefore(g,x):M?N.insertBefore(g,M):N.appendChild(g),this.options.group.revertClone&&this._animate(x,g),Te(g,"display","");o=!1}}else this._hideClone()}},De(Q,"touchmove",function(e){(we.active||C)&&e.cancelable&&e.preventDefault()}),we.utils={on:De,off:ye,css:Te,find:xe,is:function(e,t){return!!_e(e,t,e,!1)},extend:Ae,throttle:e,closest:_e,toggleClass:Ce,clone:Be,index:Xe,nextTick:He,cancelNextTick:Re,detectDirection:he,getChild:Ie,select:function(e){var t=e.parentNode[Z];t&&t.options.multiDrag&&!~K.indexOf(e)&&(b&&b!==e.parentNode&&(b[Z]._deselectMultiDrag(),b=e.parentNode),Ce(e,t.options.selectedClass,!0),K.push(e))},deselect:function(e){var t=e.parentNode[Z],o=K.indexOf(e);t&&t.options.multiDrag&&~o&&(Ce(e,t.options.selectedClass,!1),K.splice(o,1))}},we.create=function(e,t){return new we(e,t)},we.version="1.8.4",we});